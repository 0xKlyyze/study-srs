<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kaizen - Study Session</title> <!-- Changed title back -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.css" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.js" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/auto-render.min.js" crossorigin="anonymous"
        onload="window.renderMathInElement = renderMathInElement;"></script>

    <!-- Link to external CSS file -->
    <link rel="stylesheet" href="./css/study-session.css">

</head>
<!-- Add is-loading class here for testing -->
<body>

    <!-- Session Pill (Floating Header) -->
    <div class="session-pill">
        <!-- ProgressTracker content injected here -->
        <div class="session-stats" id="progressTracker">
            <span id="stat-remaining"> <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                <title>Icon representing a deck of taller flashcards, showing one</title>
              
                <!-- Back Card (rotated slightly more, taller) -->
                <!-- Increased height to 24, adjusted y to 4 to maintain vertical center -->
                <rect 
                  x="6" y="4" 
                  width="20" height="24" 
                  rx="3" ry="3" 
                  fill="none" 
                  stroke="white" 
                  stroke-width="1.5" 
                  transform="rotate(-6 16 16)" /> 
                  <!-- Rotation center (16, 16) is still the geometric center: x=6 + width/2=16, y=4 + height/2=16 -->
              
                <!-- Front Card Group (rotated slightly less) -->
                <!-- Rotation center (13, 13) needs to be correct for the group -->
                <g transform="rotate(4 13 13)"> 
                   <!-- Rotation center for the group (13, 13) is still the geometric center of the front card's original position: x=4 + width/2=13, y=2 + height/2=13 -->
              
                  <!-- Front Card Outline (taller) -->
                  <!-- Increased height to 22, adjusted y to 2 to maintain vertical center -->
                  <rect 
                    x="4" y="2" 
                    width="18" height="22" 
                    rx="3" ry="3" 
                    fill="none" 
                    stroke="white" 
                    stroke-width="1.5" />
              
                  <!-- Number '1' -->
                  <!-- Adjusted y position to 13 to be vertically centered in the taller card (y=2 + height/2=13) -->
              
                </g>
              </svg> -- Left</span>
            <span id="stat-accuracy"> <svg fill="#ffffff" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <style type="text/css"> .st0{fill:none;} </style> <path d="M11.7,2c-0.1,0-0.1,0-0.2,0c0,0,0,0-0.1,0v0c-0.2,0-0.3,0-0.5,0l0.2,2c0.4,0,0.9,0,1.3,0c4,0.3,7.3,3.5,7.5,7.6 c0.2,4.4-3.2,8.2-7.6,8.4c0,0-0.1,0-0.2,0c-0.3,0-0.7,0-1,0L11,22c0.4,0,0.8,0,1.3,0c0.1,0,0.3,0,0.4,0v0c5.4-0.4,9.5-5,9.3-10.4 c-0.2-5.1-4.3-9.1-9.3-9.5v0c0,0,0,0,0,0c-0.2,0-0.3,0-0.5,0C12,2,11.9,2,11.7,2z M8.2,2.7C7.7,3,7.2,3.2,6.7,3.5l1.1,1.7 C8.1,5,8.5,4.8,8.9,4.6L8.2,2.7z M4.5,5.4c-0.4,0.4-0.7,0.9-1,1.3l1.7,1C5.4,7.4,5.7,7.1,6,6.7L4.5,5.4z M15.4,8.4l-4.6,5.2 l-2.7-2.1L7,13.2l4.2,3.2l5.8-6.6L15.4,8.4z M2.4,9c-0.2,0.5-0.3,1.1-0.3,1.6l2,0.3c0.1-0.4,0.1-0.9,0.3-1.3L2.4,9z M4.1,13l-2,0.2 c0,0.1,0,0.2,0,0.3c0.1,0.4,0.2,0.9,0.3,1.3l1.9-0.6c-0.1-0.3-0.2-0.7-0.2-1.1L4.1,13z M5.2,16.2l-1.7,1.1c0.3,0.5,0.6,0.9,1,1.3 L6,17.3C5.7,16.9,5.4,16.6,5.2,16.2z M7.8,18.8l-1.1,1.7c0.5,0.3,1,0.5,1.5,0.8l0.8-1.8C8.5,19.2,8.1,19,7.8,18.8z"></path> <rect class="st0" width="24" height="24"></rect> </g></svg> --% Acc. </span>
            <span id="stat-time"> <svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.99,2C6.47,2,2,6.48,2,12s4.47,10,9.99,10C17.52,22,22,17.52,22,12S17.52,2,11.99,2z M12,20c-4.42,0-8-3.58-8-8s3.58-8,8-8s8,3.58,8,8S16.42,20,12,20z M12.5,7H11v6l5.25,3.15l0.75-1.23l-4.5-2.67V7z"/></svg> --:--</span>
        </div>
        <div class="session-controls">
            <!-- *** MOVED: Focus Mode Toggle Button *** -->
            <button class="icon-btn focus-toggle" id="focusModeToggleBtn" title="Toggle Focus Mode (F)">
                <!-- Example Icon: Maximize/Minimize -->
                <svg class="icon-maximize"  fill="currentColor" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 463 463" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M151.245,222.446C148.054,237.039,135.036,248,119.5,248c-4.142,0-7.5,3.357-7.5,7.5s3.358,7.5,7.5,7.5 c23.774,0,43.522-17.557,46.966-40.386c14.556-1.574,27.993-8.06,38.395-18.677c2.899-2.959,2.85-7.708-0.109-10.606 c-2.958-2.897-7.707-2.851-10.606,0.108C184.947,202.829,172.643,208,159.5,208c-26.743,0-48.5-21.757-48.5-48.5 c0-4.143-3.358-7.5-7.5-7.5s-7.5,3.357-7.5,7.5C96,191.715,120.119,218.384,151.245,222.446z"></path> <path d="M183,287.5c0-4.143-3.358-7.5-7.5-7.5c-35.014,0-63.5,28.486-63.5,63.5c0,0.362,0.013,0.725,0.019,1.088 C109.23,344.212,106.39,344,103.5,344c-4.142,0-7.5,3.357-7.5,7.5s3.358,7.5,7.5,7.5c26.743,0,48.5,21.757,48.5,48.5 c0,4.143,3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5c0-26.611-16.462-49.437-39.731-58.867c-0.178-1.699-0.269-3.418-0.269-5.133 c0-26.743,21.757-48.5,48.5-48.5C179.642,295,183,291.643,183,287.5z"></path> <path d="M439,223.5c0-17.075-6.82-33.256-18.875-45.156c1.909-6.108,2.875-12.426,2.875-18.844 c0-30.874-22.152-56.659-51.394-62.329C373.841,91.6,375,85.628,375,79.5c0-19.557-11.883-36.387-28.806-43.661 C317.999,13.383,287.162,0,263.5,0c-13.153,0-24.817,6.468-32,16.384C224.317,6.468,212.653,0,199.5,0 c-23.662,0-54.499,13.383-82.694,35.839C99.883,43.113,88,59.943,88,79.5c0,6.128,1.159,12.1,3.394,17.671 C62.152,102.841,40,128.626,40,159.5c0,6.418,0.965,12.735,2.875,18.844C30.82,190.244,24,206.425,24,223.5 c0,13.348,4.149,25.741,11.213,35.975C27.872,270.087,24,282.466,24,295.5c0,23.088,12.587,44.242,32.516,55.396 C56.173,353.748,56,356.626,56,359.5c0,31.144,20.315,58.679,49.79,68.063C118.611,449.505,141.965,463,167.5,463 c27.995,0,52.269-16.181,64-39.674c11.731,23.493,36.005,39.674,64,39.674c25.535,0,48.889-13.495,61.71-35.437 c29.475-9.385,49.79-36.92,49.79-68.063c0-2.874-0.173-5.752-0.516-8.604C426.413,339.742,439,318.588,439,295.5 c0-13.034-3.872-25.413-11.213-36.025C434.851,249.241,439,236.848,439,223.5z M167.5,448c-21.029,0-40.191-11.594-50.009-30.256 c-0.973-1.849-2.671-3.208-4.688-3.751C88.19,407.369,71,384.961,71,359.5c0-3.81,0.384-7.626,1.141-11.344 c0.702-3.447-1.087-6.92-4.302-8.35C50.32,332.018,39,314.626,39,295.5c0-8.699,2.256-17.014,6.561-24.379 C56.757,280.992,71.436,287,87.5,287c4.142,0,7.5-3.357,7.5-7.5s-3.358-7.5-7.5-7.5C60.757,272,39,250.243,39,223.5 c0-14.396,6.352-27.964,17.428-37.221c2.5-2.09,3.365-5.555,2.14-8.574C56.2,171.869,55,165.744,55,159.5 c0-26.743,21.757-48.5,48.5-48.5s48.5,21.757,48.5,48.5c0,4.143,3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5 c0-33.642-26.302-61.243-59.421-63.355C104.577,91.127,103,85.421,103,79.5c0-13.369,8.116-24.875,19.678-29.859 c0.447-0.133,0.885-0.307,1.308-0.527C127.568,47.752,131.447,47,135.5,47c12.557,0,23.767,7.021,29.256,18.325 c1.81,3.727,6.298,5.281,10.023,3.47c3.726-1.809,5.28-6.296,3.47-10.022c-6.266-12.903-18.125-22.177-31.782-25.462 C165.609,21.631,184.454,15,199.5,15c13.509,0,24.5,10.99,24.5,24.5v97.051c-6.739-5.346-15.25-8.551-24.5-8.551 c-4.142,0-7.5,3.357-7.5,7.5s3.358,7.5,7.5,7.5c13.509,0,24.5,10.99,24.5,24.5v180.279c-9.325-12.031-22.471-21.111-37.935-25.266 c-3.999-1.071-8.114,1.297-9.189,5.297c-1.075,4.001,1.297,8.115,5.297,9.189C206.8,343.616,224,366.027,224,391.5 C224,422.654,198.654,448,167.5,448z M395.161,339.807c-3.215,1.43-5.004,4.902-4.302,8.35c0.757,3.718,1.141,7.534,1.141,11.344 c0,25.461-17.19,47.869-41.803,54.493c-2.017,0.543-3.716,1.902-4.688,3.751C335.691,436.406,316.529,448,295.5,448 c-31.154,0-56.5-25.346-56.5-56.5c0-2.109-0.098-4.2-0.281-6.271c0.178-0.641,0.281-1.314,0.281-2.012V135.5 c0-13.51,10.991-24.5,24.5-24.5c4.142,0,7.5-3.357,7.5-7.5s-3.358-7.5-7.5-7.5c-9.25,0-17.761,3.205-24.5,8.551V39.5 c0-13.51,10.991-24.5,24.5-24.5c15.046,0,33.891,6.631,53.033,18.311c-13.657,3.284-25.516,12.559-31.782,25.462 c-1.81,3.727-0.256,8.214,3.47,10.022c3.726,1.81,8.213,0.257,10.023-3.47C303.733,54.021,314.943,47,327.5,47 c4.053,0,7.933,0.752,11.514,2.114c0.422,0.22,0.86,0.393,1.305,0.526C351.883,54.624,360,66.13,360,79.5 c0,5.921-1.577,11.627-4.579,16.645C322.302,98.257,296,125.858,296,159.5c0,4.143,3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5 c0-26.743,21.757-48.5,48.5-48.5s48.5,21.757,48.5,48.5c0,6.244-1.2,12.369-3.567,18.205c-1.225,3.02-0.36,6.484,2.14,8.574 C417.648,195.536,424,209.104,424,223.5c0,26.743-21.757,48.5-48.5,48.5c-4.142,0-7.5,3.357-7.5,7.5s3.358,7.5,7.5,7.5 c16.064,0,30.743-6.008,41.939-15.879c4.306,7.365,6.561,15.68,6.561,24.379C424,314.626,412.68,332.018,395.161,339.807z"></path> <path d="M359.5,240c-15.536,0-28.554-10.961-31.745-25.554C358.881,210.384,383,183.715,383,151.5c0-4.143-3.358-7.5-7.5-7.5 s-7.5,3.357-7.5,7.5c0,26.743-21.757,48.5-48.5,48.5c-13.143,0-25.447-5.171-34.646-14.561c-2.898-2.958-7.647-3.007-10.606-0.108 s-3.008,7.647-0.109,10.606c10.402,10.617,23.839,17.103,38.395,18.677C315.978,237.443,335.726,255,359.5,255 c4.142,0,7.5-3.357,7.5-7.5S363.642,240,359.5,240z"></path> <path d="M335.5,328c-2.89,0-5.73,0.212-8.519,0.588c0.006-0.363,0.019-0.726,0.019-1.088c0-35.014-28.486-63.5-63.5-63.5 c-4.142,0-7.5,3.357-7.5,7.5s3.358,7.5,7.5,7.5c26.743,0,48.5,21.757,48.5,48.5c0,1.714-0.091,3.434-0.269,5.133 C288.462,342.063,272,364.889,272,391.5c0,4.143,3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5c0-26.743,21.757-48.5,48.5-48.5 c4.142,0,7.5-3.357,7.5-7.5S339.642,328,335.5,328z"></path> </g> </g></svg>
                <svg class="icon-minimize" style="display: none;" viewBox="0 0 24 24" fill="currentColor"><path d="M7 19h2v-4H5v-2h6v6H9v-4zm8-8h-2v4h4v2h-6V9h2v4z"/></svg>
            </button>
            <!-- *** END Focus Mode Button *** -->
           <button class="nav-btn" id="endSessionBtn">End Session</button>
       </div>
   </div>

    <!-- Main Study Area -->
    <!-- Error messages will be prepended here by JS -->
    <main class="study-area" id="studyArea">
        
                <!-- AI Panel (Initially Hidden) -->
                <aside class="ai-panel" id="aiPanel">
                    <div class="ai-panel-header">
                        <h3>AI Assistant</h3>
                        <button class="icon-btn close-ai" id="closeAiBtn" title="Close Panel">
                            <svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
                        </button>
                    </div>
                    <div class="ai-panel-content">
                        <p>Ask me anything about this card!</p>
                        <!-- Placeholder for chat interface -->
                        <div class="ai-chat-placeholder">Chat interface goes here...</div>
                        <textarea placeholder="Type your question..."></textarea>
                        <button class="ai-send-btn">Send</button>
                    </div>
                </aside>

                    <!-- === NEW: Edit Panel === -->
    <aside class="edit-panel" id="editPanel">
        <div class="edit-panel-header">
            <h3>Edit Card</h3>
            <!-- Optional: Add a close button specific to edit panel if needed -->
             <button class="icon-btn close-edit" id="closeEditBtn" title="Close Panel">
                <svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
            </button>
        </div>
        <div class="edit-panel-content">
            <div class="edit-form-group">
                <label for="sessionEditNameInput">Name</label>
                <input type="text" id="sessionEditNameInput">
            </div>
            <div class="edit-form-group">
                <label for="sessionEditChapterInput">Chapter</label>
                <input type="text" id="sessionEditChapterInput">
            </div>
            <div class="edit-form-group">
                <label for="sessionEditBriefTextarea">Brief Explanation</label>
                <textarea id="sessionEditBriefTextarea"></textarea>
            </div>
            <div class="edit-form-group">
                <label for="sessionEditDetailedTextarea">Detailed Explanation</label>
                <textarea id="sessionEditDetailedTextarea"></textarea>
            </div>
        </div>
        <div class="edit-panel-footer">
            <button class="panel-button secondary" id="sessionEditCancelBtn">Cancel</button>
            <button class="panel-button primary" id="sessionEditSaveBtn">Save Changes</button>
        </div>
    </aside>
    <!-- === End Edit Panel === -->
            
        <!-- Left Action Buttons -->
        <div class="card-actions-column card-actions-left" id="leftActionsColumn">
            <!-- Added IDs -->
            <button class="icon-btn delete" id="deleteBtn" title="Delete (Del)">
                <svg viewBox="0 0 24 24"><path fill="currentColor" d="M6,19c0,1.1 0.9,2 2,2h8c1.1,0 2,-0.9 2,-2V7H6v12z M19,4h-3.5l-1,-1h-5l-1,1H5v2h14V4z"/></svg>
            </button>
            <button class="icon-btn skip" id="skipBtn" title="Skip Card (N)">
                 <svg viewBox="0 0 24 24"><path fill="currentColor" d="M4,18l8.5,-6L4,6V18z M13,6v12l8.5,-6L13,6z"/></svg>
            </button>
            <button class="icon-btn edit" id="editBtn" title="Edit (E)">
                 <svg viewBox="0 0 24 24"><path fill="currentColor" d="M3,17.25V21h3.75L17.81,9.94l-3.75,-3.75L3,17.25z M20.71,7.04c0.39,-0.39 0.39,-1.02 0,-1.41l-2.34,-2.34c-0.39,-0.39 -1.02,-0.39 -1.41,0l-1.83,1.83l3.75,3.75L20.71,7.04z"/></svg>
            </button>
        </div>

        <!-- Card Scene (Container for CardRenderer) -->
        <!-- State classes 'is-flipped', 'show-detailed' managed by JS -->
        <div class="card-scene" id="cardViewer">
            <div class="card-flipper">
                <!-- Card Front -->
                <div class="card-face card-front">
                    <div> <!-- Wrapper for main content -->
                        <div class="theorem-name">Loading...</div> <!-- Populated by JS -->
                        <div class="card-meta"></div> <!-- Populated by JS -->
                    </div>
                    <!-- Flip Button -->
                    <button class="flip-prompt-btn" id="flipBtn" data-tooltip="Press Space or Enter">
                        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,4.5C7,4.5 2.73,7.61 1,12c1.73,4.39 6,7.5 11,7.5s9.27,-3.11 11,-7.5C21.27,7.61 17,4.5 12,4.5z M12,17c-2.76,0 -5,-2.24 -5,-5s2.24,-5 5,-5s5,2.24 5,5S14.76,17 12,17z M12,9c-1.66,0 -3,1.34 -3,3s1.34,3 3,3s3,-1.34 3,-3S13.66,9 12,9z"/></svg>
                        <span class="text">Flip Card</span>
                    </button>
                </div>

                <div class="card-face card-back">
                    <div class="card-content-wrapper">
                        <!-- Detailed Explanation (Now appears first when shown) -->
                        <div class="explanation detailed-explanation" data-block-type=""></div>

                        <hr class="explanation-separator">

                        <!-- Brief Explanation (Always present, appears below detailed when shown) -->
                        <div class="explanation brief-explanation" data-block-type=""></div>

                        <!-- Centered Toggle Button -->
                        <div class="detail-toggle-container">
                            <button class="toggle-detail-btn">Show Detailed <span class="keyboard-hint">(D)</span></button>
                        </div>
                    </div>
                    <!-- REMOVED card-footer -->
                </div>
            </div>

                    <!-- Quality Buttons (Container for QualityButtons) -->
            <div class="quality-buttons">
                <!-- Buttons populated by QualityButtons component/HTML, but keep container -->
                <button class="quality-btn" data-quality="0">Again <span class="key-hint">1</span></button>
                <button class="quality-btn" data-quality="1">Hard <span class="key-hint">2</span></button>
                <button class="quality-btn" data-quality="2">Good <span class="key-hint">3</span></button>
                <button class="quality-btn" data-quality="3">Easy <span class="key-hint">4</span></button>
            </div>
        </div>

        <!-- Right Action Buttons -->
        <div class="card-actions-column card-actions-right" id="rightActionsColumn">
            <!-- Added IDs -->
            <button class="icon-btn star" id="starBtn" title="Star (S)" data-original-column="right">
                <svg class="icon-star-outline" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M21.12 9.88005C21.0781 9.74719 20.9996 9.62884 20.8935 9.53862C20.7873 9.4484 20.6579 9.38997 20.52 9.37005L15.1 8.58005L12.67 3.67005C12.6008 3.55403 12.5027 3.45795 12.3853 3.39123C12.2678 3.32451 12.1351 3.28943 12 3.28943C11.8649 3.28943 11.7322 3.32451 11.6147 3.39123C11.4973 3.45795 11.3991 3.55403 11.33 3.67005L8.89999 8.58005L3.47999 9.37005C3.34211 9.38997 3.21266 9.4484 3.10652 9.53862C3.00038 9.62884 2.92186 9.74719 2.87999 9.88005C2.83529 10.0124 2.82846 10.1547 2.86027 10.2907C2.89207 10.4268 2.96124 10.5512 3.05999 10.6501L6.99999 14.4701L6.06999 19.8701C6.04642 20.0091 6.06199 20.1519 6.11497 20.2826C6.16796 20.4133 6.25625 20.5267 6.36999 20.6101C6.48391 20.6912 6.61825 20.7389 6.75785 20.7478C6.89746 20.7566 7.03675 20.7262 7.15999 20.6601L12 18.1101L16.85 20.6601C16.9573 20.7189 17.0776 20.7499 17.2 20.7501C17.3573 20.7482 17.5105 20.6995 17.64 20.6101C17.7537 20.5267 17.842 20.4133 17.895 20.2826C17.948 20.1519 17.9636 20.0091 17.94 19.8701L17 14.4701L20.93 10.6501C21.0305 10.5523 21.1015 10.4283 21.1351 10.2922C21.1687 10.1561 21.1634 10.0133 21.12 9.88005Z" fill=""></path> </g></svg>
                <svg class="icon-star-filled" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M21.12 9.88005C21.0781 9.74719 20.9996 9.62884 20.8935 9.53862C20.7873 9.4484 20.6579 9.38997 20.52 9.37005L15.1 8.58005L12.67 3.67005C12.6008 3.55403 12.5027 3.45795 12.3853 3.39123C12.2678 3.32451 12.1351 3.28943 12 3.28943C11.8649 3.28943 11.7322 3.32451 11.6147 3.39123C11.4973 3.45795 11.3991 3.55403 11.33 3.67005L8.89999 8.58005L3.47999 9.37005C3.34211 9.38997 3.21266 9.4484 3.10652 9.53862C3.00038 9.62884 2.92186 9.74719 2.87999 9.88005C2.83529 10.0124 2.82846 10.1547 2.86027 10.2907C2.89207 10.4268 2.96124 10.5512 3.05999 10.6501L6.99999 14.4701L6.06999 19.8701C6.04642 20.0091 6.06199 20.1519 6.11497 20.2826C6.16796 20.4133 6.25625 20.5267 6.36999 20.6101C6.48391 20.6912 6.61825 20.7389 6.75785 20.7478C6.89746 20.7566 7.03675 20.7262 7.15999 20.6601L12 18.1101L16.85 20.6601C16.9573 20.7189 17.0776 20.7499 17.2 20.7501C17.3573 20.7482 17.5105 20.6995 17.64 20.6101C17.7537 20.5267 17.842 20.4133 17.895 20.2826C17.948 20.1519 17.9636 20.0091 17.94 19.8701L17 14.4701L20.93 10.6501C21.0305 10.5523 21.1015 10.4283 21.1351 10.2922C21.1687 10.1561 21.1634 10.0133 21.12 9.88005Z" fill=""></path> </g></svg>
            </button>
            <button class="icon-btn ai" id="aiBtn" title="AI Actions (Not Implemented)" data-original-column="right">
                 <svg fill="#ffffff" height="200px" width="200px" version="1.1" id="Icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M12,17c0.8-4.2,1.9-5.3,6.1-6.1c0.5-0.1,0.8-0.5,0.8-1s-0.3-0.9-0.8-1C13.9,8.1,12.8,7,12,2.8C11.9,2.3,11.5,2,11,2 c-0.5,0-0.9,0.3-1,0.8C9.2,7,8.1,8.1,3.9,8.9C3.5,9,3.1,9.4,3.1,9.9s0.3,0.9,0.8,1c4.2,0.8,5.3,1.9,6.1,6.1c0.1,0.5,0.5,0.8,1,0.8 S11.9,17.4,12,17z"></path> <path d="M22,24c-2.8-0.6-3.4-1.2-4-4c-0.1-0.5-0.5-0.8-1-0.8s-0.9,0.3-1,0.8c-0.6,2.8-1.2,3.4-4,4c-0.5,0.1-0.8,0.5-0.8,1 s0.3,0.9,0.8,1c2.8,0.6,3.4,1.2,4,4c0.1,0.5,0.5,0.8,1,0.8s0.9-0.3,1-0.8c0.6-2.8,1.2-3.4,4-4c0.5-0.1,0.8-0.5,0.8-1 S22.4,24.1,22,24z"></path> <path d="M29.2,14c-2.2-0.4-2.7-0.9-3.1-3.1c-0.1-0.5-0.5-0.8-1-0.8c-0.5,0-0.9,0.3-1,0.8c-0.4,2.2-0.9,2.7-3.1,3.1 c-0.5,0.1-0.8,0.5-0.8,1s0.3,0.9,0.8,1c2.2,0.4,2.7,0.9,3.1,3.1c0.1,0.5,0.5,0.8,1,0.8c0.5,0,0.9-0.3,1-0.8 c0.4-2.2,0.9-2.7,3.1-3.1c0.5-0.1,0.8-0.5,0.8-1S29.7,14.1,29.2,14z"></path> <path d="M5.7,22.3C5.4,22,5,21.9,4.6,22.1c-0.1,0-0.2,0.1-0.3,0.2c-0.1,0.1-0.2,0.2-0.2,0.3C4,22.7,4,22.9,4,23s0,0.3,0.1,0.4 c0.1,0.1,0.1,0.2,0.2,0.3c0.1,0.1,0.2,0.2,0.3,0.2C4.7,24,4.9,24,5,24c0.1,0,0.3,0,0.4-0.1s0.2-0.1,0.3-0.2 c0.1-0.1,0.2-0.2,0.2-0.3C6,23.3,6,23.1,6,23s0-0.3-0.1-0.4C5.9,22.5,5.8,22.4,5.7,22.3z"></path> <path d="M28,7c0.3,0,0.5-0.1,0.7-0.3C28.9,6.5,29,6.3,29,6s-0.1-0.5-0.3-0.7c-0.1-0.1-0.2-0.2-0.3-0.2c-0.2-0.1-0.5-0.1-0.8,0 c-0.1,0-0.2,0.1-0.3,0.2C27.1,5.5,27,5.7,27,6c0,0.3,0.1,0.5,0.3,0.7C27.5,6.9,27.7,7,28,7z"></path> </g> </g></svg>
            </button>
             <button class="icon-btn bury" id="buryBtn" title="Bury (B)" data-original-column="right">
                 <svg class="icon-bury"  viewBox="0 0 24.00 24.00" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff" stroke-width="0.00024000000000000003"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M21.9445 14.4719L21.9661 14.5336L21.9892 14.6345L21.9981 14.7331V21.25C21.9981 21.6297 21.7159 21.9435 21.3499 21.9932L21.2481 22H2.75C2.3703 22 2.05651 21.7178 2.00685 21.3518L2 21.25V14.7506L2.00184 14.6977L2.01271 14.6122C2.02285 14.5584 2.03841 14.5072 2.05894 14.4587L4.81824 8.44003C4.92517 8.2068 5.14245 8.04682 5.39153 8.01047L5.5 8.0026L8.03982 8.00183L7.25089 9.37206L7.18282 9.50183L5.981 9.502L3.918 13.9998H20.07L18.0428 9.65383L18.9052 8.15653C18.9718 8.20739 19.0301 8.26957 19.0771 8.3411L19.1297 8.43553L21.9445 14.4719ZM13.3652 2.05565L13.4566 2.10062L18.6447 5.10375C18.9729 5.29371 19.1033 5.69521 18.9636 6.03728L18.9187 6.1289L16.112 11.001L17.25 11.0016C17.6642 11.0016 18 11.3374 18 11.7516C18 12.1313 17.7178 12.4451 17.3518 12.4948L17.25 12.5016L15.248 12.501L15.2471 12.504H11.1691L11.166 12.501L6.75 12.5016C6.33579 12.5016 6 12.1658 6 11.7516C6 11.3719 6.28215 11.0581 6.64823 11.0085L6.75 11.0016L8.573 11.001L8.39145 10.8963C8.06327 10.7063 7.93285 10.3048 8.0726 9.96272L8.11747 9.8711L12.4341 2.37536C12.6235 2.04633 13.024 1.91557 13.3652 2.05565ZM13.3559 3.77529L9.78781 9.97119L11.566 11.001H14.383L17.248 6.02818L13.3559 3.77529Z" fill="#ffffff"></path> </g></svg>
                 <svg class="icon-unbury" style="display: none;" viewBox="0 0 24.00 24.00" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff" stroke-width="0.00024000000000000003">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier">
                        <path d=" M21.9445 14.4719 L21.9661 14.5336 L21.9892 14.6345 L21.9981 14.7331 V 21.25 C 21.9981 21.6297 21.7159 21.9435 21.3499 21.9932 L 21.2481 22 H 2.75 C 2.3703 22 2.05651 21.7178 2.00685 21.3518 L 2 21.25 V 14.7506 L 2.00184 14.6977 L 2.01271 14.6122 C 2.02285 14.5584 2.03841 14.5072 2.05894 14.4587 L 4.81824 8.44003 C 4.92517 8.2068 5.14245 8.04682 5.39153 8.01047 L 5.5 8.0026 L 18.9 8.0026 L 19.1297 8.43553 L 21.9445 14.4719 Z M13.3652 -0.94435 L 13.4566 -0.89938 L 18.6447 2.10375 C 18.9729 2.29371 19.1033 2.69521 18.9636 3.03728 L 18.9187 3.1289 L 16.112 8.001 L 8.573 8.001 L 8.39145 7.8963 C 8.06327 7.7063 7.93285 7.3048 8.0726 6.96272 L 8.11747 6.8711 L 12.4341 -0.62464 C 12.6235 -0.95367 13.024 -1.08443 13.3652 -0.94435 Z M13.3559 0.77529 L 9.78781 6.97119 L 11.566 8.001 H 14.383 L 17.248 3.02818 L 13.3559 0.77529 Z" fill="#ffffff"></path>
                    </g>
                </svg>
             </button>
            
       </div>



    </main>

    <!-- === NEW Session Completion Screen Structure === -->
    <div class="session-complete-overlay" id="sessionCompleteContainer" style="display: none;">
        <div class="completion-content">

            <h2 id="completionMessage" class="completion-title">Session Complete!</h2>

            <div class="completion-stats-grid" id="completionStats">
                <!-- Cards Studied Stat -->
                <div class="stat-item stat-cards">
                    <div class="stat-icon">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21,2H3C1.9,2,1,2.9,1,4v16c0,1.1,0.9,2,2,2h18c1.1,0,2-0.9,2-2V4C23,2.9,22.1,2,21,2z M21,20H3V6h18V20z M9,10H7v2h2V10z 
                                  M13,10h-2v2h2V10z M17,10h-2v2h2V10z M9,14H7v2h2V14z M13,14h-2v2h2V14z M17,14h-2v2h2V14z"/>
                        </svg>
                    </div>
                    <div id="compStatTotal" class="stat-value">42</div>
                    <div class="stat-label">Cards Studied</div>
                </div>
                
                <!-- Accuracy Stat -->
                <div class="stat-item stat-accuracy">
                    <div class="stat-icon">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10s10-4.5,10-10S17.5,2,12,2z M12,20c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8
                                  S16.4,20,12,20z M16.2,7.8l-6.4,6.4l-2.1-2.1L6.5,13.4l3.3,3.3l7.7-7.7L16.2,7.8z"/>
                        </svg>
                    </div>
                    <div class="accuracy-container">
                        <svg class="accuracy-circle-bg" viewBox="0 0 36 36">
                            <path d="M18 2.0845
                                a 15.9155 15.9155 0 0 1 0 31.831
                                a 15.9155 15.9155 0 0 1 0 -31.831"></path>
                        </svg>
                        <svg class="accuracy-circle" viewBox="0 0 36 36">
                            <path class="accuracy-value-path" id="accuracyPath" d="M18 2.0845
                                a 15.9155 15.9155 0 0 1 0 31.831
                                a 15.9155 15.9155 0 0 1 0 -31.831"></path>
                        </svg>
                        <div id="compStatAccuracy" class="stat-value">85<span class="unit">%</span></div>
                    </div>
                    <div class="stat-label">Accuracy</div>
                </div>
                
                <!-- Time Stat -->
                <div class="stat-item stat-time">
                    <div class="stat-icon">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M11.99,2C6.47,2,2,6.48,2,12s4.47,10,9.99,10C17.52,22,22,17.52,22,12S17.52,2,11.99,2z M12,20c-4.42,0-8-3.58-8-8
                                  s3.58-8,8-8s8,3.58,8,8S16.42,20,12,20z M12.5,7H11v6l5.25,3.15l0.75-1.23l-4.5-2.67V7z"/>
                        </svg>
                    </div>
                    <div id="compStatTime" class="time-parts">
                        <div class="time-part">
                            <div class="time-value minutes">14</div>
                            <div class="time-unit">min</div>
                        </div>
                        <div class="time-part">
                            <div class="time-value seconds">32</div>
                            <div class="time-unit">sec</div>
                        </div>
                    </div>
                    <div class="stat-label">Study Time</div>
                </div>
            </div>

            <div id="completionRemainingDue" class="remaining-due-compact-container">
                <div class="remaining-due-info">
                    <svg class="remaining-due-icon" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 321.334 321.334" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M315.081,152.087l-29.333-20.373l17.395-31.195c1.895-3.4,2.351-7.334,1.286-11.078s-3.523-6.85-6.922-8.742 l-41.693-23.244V38.76c0-8.038-6.539-14.578-14.577-14.578h-45.089L156.78,2.23c-3.401-1.898-7.335-2.362-11.084-1.295 c-3.744,1.064-6.853,3.525-8.752,6.931l-8.235,14.776l-13.882-9.65c-3.193-2.227-7.063-3.072-10.896-2.385 c-3.839,0.688-7.177,2.832-9.397,6.034l-5.236,7.541h-9.188c-8.038,0-14.577,6.54-14.577,14.578v19.635L2.615,148.968 c-2.226,3.198-3.071,7.07-2.381,10.904c0.69,3.833,2.834,7.166,6.032,9.385l29.332,20.376l-17.39,31.188 c-1.899,3.397-2.36,7.331-1.3,11.074c1.063,3.75,3.525,6.861,6.933,8.761l41.69,23.247v18.686c0,8.038,6.539,14.577,14.577,14.577 h45.087l39.372,21.948c2.242,1.252,4.677,1.847,7.079,1.847c5.114,0,10.087-2.694,12.756-7.471l8.233-14.763l13.883,9.641 c2.526,1.753,5.421,2.595,8.289,2.595c4.619,0,9.17-2.182,12.006-6.249l5.244-7.548h9.179c8.038,0,14.577-6.539,14.577-14.577 v-19.631l62.92-90.583C323.318,165.779,321.681,156.679,315.081,152.087z M293.613,87.688c1.532,0.854,2.641,2.253,3.121,3.941 c0.479,1.688,0.273,3.463-0.579,4.995l-17.01,30.504l-23.332-16.205V66.615L293.613,87.688z M143.932,11.761 c0.858-1.539,2.262-2.65,3.952-3.131c1.688-0.479,3.462-0.273,4.997,0.585l26.841,14.967h-42.718L143.932,11.761z M101.105,21.202 c1.002-1.444,2.508-2.411,4.239-2.722c1.728-0.31,3.471,0.07,4.914,1.077l6.659,4.624H99.036L101.105,21.202z M8.108,158.453 c-0.311-1.728,0.07-3.474,1.076-4.919l56.348-81.116v128.267l-54.703-38C9.385,161.684,8.419,160.181,8.108,158.453z M27.737,233.669c-1.54-0.859-2.652-2.264-3.132-3.956c-0.479-1.687-0.271-3.458,0.587-4.992L42.2,194.219l23.331,16.207v44.317 L27.737,233.669z M177.417,309.591c-1.77,3.167-5.781,4.308-8.951,2.537l-26.84-14.962h42.718L177.417,309.591z M220.247,300.144 c-2.076,2.979-6.189,3.72-9.166,1.653l-6.667-4.631h17.901L220.247,300.144z M247.814,282.589c0,3.627-2.95,6.577-6.577,6.577 H80.109c-3.627,0-6.577-2.95-6.577-6.577V38.76c0-3.627,2.95-6.578,6.577-6.578h161.128c3.627,0,6.577,2.951,6.577,6.578V282.589z M312.164,167.81l-56.351,81.125V120.664l54.701,37.992C313.492,160.728,314.233,164.834,312.164,167.81z"></path> <path d="M196.508,128.379c-5.122-5.123-11.933-7.943-19.178-7.943c-6.112,0-11.916,2.008-16.657,5.712 c-4.742-3.704-10.546-5.712-16.658-5.712c-7.245,0-14.056,2.82-19.178,7.943c-10.575,10.574-10.575,27.78,0,38.354l33.007,33.008 c0.75,0.75,1.768,1.172,2.828,1.172s2.078-0.422,2.828-1.172l33.008-33.008C207.083,156.159,207.083,138.953,196.508,128.379z M190.852,161.077l-30.18,30.179l-30.179-30.179c-7.455-7.456-7.455-19.586,0-27.042c3.611-3.611,8.413-5.6,13.521-5.6 c5.107,0,9.909,1.988,13.517,5.596l0.308,0.309c0.75,0.752,1.768,1.175,2.83,1.176c0.001,0,0.002,0,0.003,0 c1.061,0,2.078-0.422,2.828-1.172l0.309-0.309c3.612-3.611,8.414-5.6,13.521-5.6c5.108,0,9.91,1.988,13.521,5.6 C198.307,141.491,198.307,153.621,190.852,161.077z"></path> <path d="M124.703,66.516c2.801-2.8,4.343-6.522,4.343-10.482s-1.542-7.683-4.343-10.482c-2.8-2.801-6.522-4.343-10.482-4.343 c-2.799,0-5.479,0.771-7.799,2.211c-2.319-1.44-4.999-2.211-7.798-2.211c-3.96,0-7.683,1.542-10.482,4.343 c-2.801,2.8-4.343,6.522-4.343,10.482s1.542,7.683,4.343,10.481l15.452,15.453c0.75,0.75,1.768,1.172,2.828,1.172 s2.078-0.422,2.828-1.172l15.309-15.309L124.703,66.516z M119.047,60.859l-12.625,12.624L93.943,61.003l-0.145-0.146 c-1.289-1.288-1.999-3.002-1.999-4.824c0-1.823,0.71-3.537,1.999-4.826s3.003-1.999,4.826-1.999s3.537,0.71,4.816,1.99l0.144,0.145 c0.749,0.754,1.769,1.179,2.831,1.181c0.002,0,0.005,0,0.007,0c1.061,0,2.078-0.421,2.828-1.172l0.145-0.145 c1.289-1.289,3.003-1.999,4.826-1.999s3.537,0.71,4.826,1.999s1.999,3.003,1.999,4.826 C121.046,57.856,120.336,59.57,119.047,60.859z"></path> <path d="M222.721,238.208c-2.799,0-5.479,0.771-7.799,2.211c-2.319-1.44-4.999-2.211-7.798-2.211c-3.96,0-7.683,1.542-10.482,4.343 c-2.801,2.8-4.343,6.522-4.343,10.482c0,3.96,1.542,7.683,4.343,10.481l15.452,15.453c0.75,0.75,1.768,1.172,2.828,1.172 s2.078-0.422,2.828-1.172l15.309-15.309l0.145-0.144c2.801-2.8,4.343-6.522,4.343-10.482c0-3.96-1.542-7.683-4.343-10.482 C230.403,239.75,226.681,238.208,222.721,238.208z M227.547,257.859l-12.625,12.624l-12.479-12.479l-0.145-0.146 c-1.289-1.288-1.999-3.002-1.999-4.824c0-1.823,0.71-3.537,1.999-4.826s3.003-1.999,4.826-1.999s3.537,0.71,4.816,1.99l0.144,0.145 c0.749,0.754,1.769,1.179,2.831,1.181c0.002,0,0.005,0,0.007,0c1.061,0,2.078-0.421,2.828-1.172l0.145-0.145 c1.289-1.289,3.003-1.999,4.826-1.999s3.537,0.71,4.826,1.999s1.999,3.003,1.999,4.826 C229.546,254.856,228.836,256.57,227.547,257.859z"></path> </g> </g></svg>                 <strong id="compStatRemainingDue" class="remaining-due-count">-</strong>
                    <span class="remaining-due-label">due</span>
                    <span class="batch-info">Batch: <input type="number" id="studyRemainingBatchSizeInput" min="1" value="20" title="Batch size for next session"></span>
                </div>
                <button id="studyRemainingDueBtn" class="button primary study-remaining-btn" disabled title="Study the remaining due cards">
                     <svg viewBox="0 0 24 24" fill="currentColor" width="18" height="18"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg> <!-- Play/Next icon -->
                    <span>Study Next</span> <!-- Shorter text -->
                </button>
            </div>
            <!-- === END REVISED REMAINING DUE === -->

            <!-- Floating Action Buttons -->
            <div class="completion-actions-floating">
                <button id="returnBtn" class="completion-btn-floating return">
                    <svg viewBox="0 0 24 24"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                    <span>Return</span>
                </button>
                <button id="studyGlobalMaterialBtn" class="completion-btn-floating study-global" style="display: none;">
                    <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                        <title>Icon representing a fanned deck of taller flashcards, showing one</title>
                      
                        <!-- Card 4 (Deepest in the stack) -->
                        <!-- Further offset (x=8, y=2), increased negative rotation -->
                        <rect 
                          x="8" y="2" 
                          width="20" height="24" 
                          rx="3" ry="3" 
                          fill="none" 
                          stroke="white" 
                          stroke-width="1.5" 
                          transform="rotate(-12 18 14)" /> 
                          <!-- Rotation center: x=8 + width/2=18, y=2 + height/2=14 -->
                      
                        <!-- Card 3 -->
                        <!-- Original "Back Card", now the third from front -->
                        <!-- Position (x=6, y=4), standard negative rotation -->
                         <rect 
                          x="6" y="4" 
                          width="20" height="24" 
                          rx="3" ry="3" 
                          fill="none" 
                          stroke="white" 
                          stroke-width="1.5" 
                          transform="rotate(-6 16 16)" /> 
                          <!-- Rotation center: x=6 + width/2=16, y=4 + height/2=16 -->
                      
                        <!-- Card 2 & Text '1' Group (Front Card Group) -->
                        <!-- Rotated slightly positive -->
                        <g transform="rotate(4 13 13)"> 
                           <!-- Rotation center: x=4 + width/2=13, y=2 + height/2=13 -->
                      
                          <!-- Card 2 Outline (Front Card Outline) -->
                          <rect 
                            x="4" y="2" 
                            width="18" height="22" 
                            rx="3" ry="3" 
                            fill="none" 
                            stroke="white" 
                            stroke-width="1.5" />
                      
                      
                        </g>
                      </svg>
                    <span>Study All Due [Material]</span>
                </button>
                <button id="studyOtherBtn" class="completion-btn-floating study-other">
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 256 256" enable-background="new 0 0 256 256" xml:space="preserve">
                        <metadata> Svg Vector Icons : http://www.onlinewebfonts.com/icon </metadata>
                        <g><g><g><path fill="#fffff" d="M124,10.3c-5.2,0.9-10.6,3.9-13.9,7.6l-1.8,2l-7.1,0.2c-6.3,0.1-7.4,0.3-9.1,1.2c-3,1.6-4.8,3.3-6.3,6l-1.4,2.4h-8.9c-10.3,0-12.6,0.3-17.2,2.5c-6.6,3.1-12.2,10.3-13.5,17.3c-0.3,1.6-0.5,33.5-0.5,88.7c0,94.9-0.1,89.1,2.9,94.8c3,5.7,8.3,10.1,14.5,12l3.2,1h63h63l3.2-1c6.1-1.9,11.4-6.3,14.5-12c3-5.8,2.9,0.2,2.8-96.5l-0.1-87.6l-1.2-3.1c-2.8-6.9-7.7-11.8-14.5-14.5c-3-1.2-3.6-1.2-13.6-1.4l-10.5-0.2l-1.4-2.4c-1.5-2.7-3.3-4.4-6.2-6c-1.7-0.9-2.8-1-9-1.2l-7.1-0.2l-1.8-2C140.9,12.2,131.6,9,124,10.3z M134.3,20.9c1.3,0.6,3.1,2,4.2,3.1c1,1.1,2.5,2.7,3.3,3.6l1.4,1.6h7.5c11.5,0,12,0.5,12,10.2c0,6.9-0.4,8.2-3,9.4c-1.4,0.6-4.8,0.7-31.7,0.7c-26.9,0-30.3-0.1-31.7-0.7c-2.5-1.2-3-2.5-3-9.4c0-9.7,0.5-10.2,11.9-10.2c8.3,0,8.3,0,10.9-3.6c1.8-2.5,4.2-4.2,7.2-5.4C126.3,19.2,131.3,19.5,134.3,20.9z M83.8,43.5c0.4,6.6,2.9,10.9,7.9,13.7l2.4,1.3H128H162l2.4-1.3c5-2.8,7.5-7.2,7.9-13.8l0.2-4.1l9.5,0.1c8.9,0.1,9.6,0.2,11.5,1.2c2.9,1.5,5.3,3.9,6.8,6.6l1.3,2.4l0.1,87.3c0.1,97.2,0.4,89.5-3.1,93.9c-1.1,1.4-2.9,2.8-4.7,3.8l-3,1.6h-63H65l-3-1.6c-1.8-1-3.6-2.4-4.7-3.8c-3.5-4.4-3.2,3.4-3.1-93.9l0.1-87.3l1.1-1.9c2-3.8,5-6.5,8.8-7.8c1.1-0.4,4.5-0.6,10.5-0.6h8.8L83.8,43.5z"/><path fill="#fffff" d="M83.8,89.6c-12.5,4.5-13.1,21.7-1,27.1c2.4,1.1,3.2,1.2,6.3,1.1c8.1-0.4,13.4-5.7,13.8-13.8c0.2-3.1,0-3.9-1.1-6.3C98.8,90.7,90.8,87.1,83.8,89.6z M91.7,99.4c0.6,0.5,1.4,1.7,1.7,2.5c0.5,1.4,0.4,1.9-0.3,3.4c-1.2,2.4-3.7,3.6-5.9,2.9c-3-1-4.4-4.5-2.8-7.3C85.7,98.5,89.5,97.7,91.7,99.4z"/><path fill="#fffff" d="M116.1,99.2c-3.1,1.4-3.5,5.9-0.7,8.1c1.2,0.9,1.8,0.9,32.3,0.9h31.2l1.6-1.6c2.1-2.1,2.2-4.2,0.2-6.4l-1.3-1.5l-30.9-0.1C122.5,98.5,117.4,98.6,116.1,99.2z"/><path fill="#fffff" d="M83.3,139c-2.8,1-6.6,4.7-8,7.6c-1.5,3.3-1.5,8.9-0.1,12c1.4,3,4,5.7,7,7.2c3.5,1.7,8.8,1.8,12.2,0.3c3.2-1.5,6-4.3,7.5-7.6c1.1-2.4,1.2-3.3,1.1-6.4c-0.4-8.3-6.3-13.9-14.6-13.9C86.7,138.2,84.4,138.6,83.3,139z M92.1,149.1c3.1,3,1.1,8.5-3.1,8.5c-3.2,0-5.2-2-5.2-5.2C83.7,148.2,88.9,146.1,92.1,149.1z"/><path fill="#fffff" d="M115.2,149c-1.8,1.5-2.2,3.3-1.3,5.5c1.3,3.1,0.5,3,33.8,3c27.6,0,30.1,0,31.5-0.8c3.1-1.6,3.7-4.8,1.2-7.3l-1.6-1.6h-31.2h-31.2L115.2,149z"/><path fill="#fffff" d="M85.4,187.6c-4.2,1-8.1,4.1-10,8c-1.6,3.3-1.6,9.2,0,12.3c5.3,10.9,20.3,11.3,26.2,0.7c1.2-2.2,1.3-2.9,1.3-6.8c0-3.6-0.2-4.7-1-6.3c-2.3-4.3-5.2-6.6-9.7-7.8C89.2,187,88,187,85.4,187.6z M91,197.5c2.5,1.2,3.4,5.1,1.8,7.2c-2.1,2.8-5.2,3-7.5,0.7c-1.3-1.3-1.6-1.9-1.6-3.5s0.3-2.2,1.6-3.5C87,196.6,88.8,196.4,91,197.5z"/><path fill="#fffff" d="M115.7,197.8c-1.4,0.7-2.6,3.3-2.2,5c0.2,0.7,0.9,1.9,1.7,2.5l1.4,1.2h31.4h31.4l1.1-1.1c0.6-0.6,1.2-1.7,1.4-2.3c0.4-1.7-0.1-3.4-1.4-4.7l-1.1-1.1l-31.3,0C127,197.3,116.4,197.5,115.7,197.8z"/></g></g></g>
                        </svg>
                    <span>Study Another</span>
                </button>

                

        </div> <!-- End completion-content -->

        <!-- Other Materials Popup (Relative to overlay) -->
        <div id="otherMaterialsList" class="other-materials-popup-floating">
            <!-- Dynamically populated -->
        </div>


    <!-- Main JS Module -->
    <script type="module" src="./js/views/studyView.js"></script>

</body>
</html>